<header class="mb-10">
  <h1><a routerLink="../../">Registros de pesaje</a> / Editar</h1>
  <div class="-mt-6 font-light text-gray-500 text-xs">
    Creado por {{ (weighing$ | async)?.created_by?.first_name }} {{ (weighing$ | async)?.created_by?.last_name }}
    en {{ (weighing$ | async)?.created_at | date:'short' }}
  </div>
  <div *ngIf="(weighing$ | async)?.updated_by" class="font-light text-gray-500 text-xs">
    Actualizado por {{ (weighing$ | async)?.updated_by?.first_name }} {{ (weighing$ | async)?.updated_by?.last_name }}
    en {{ (weighing$ | async)?.updated_at | date:'short' }}
  </div>
</header>

<div class="block max-w-4xl text-right text-gray-600">
  <span class="rounded p-2 mt-3" [ngClass]="{'bg-green-400': !(weighing$ | async)?.isFinished(), 'bg-red-300': (weighing$ | async)?.isFinished()}">
    {{ (weighing$ | async)?.readableStatus }}
  </span>
</div>

<kirby-api-errors [apiError]="apiError$ | async" class="block my-4"></kirby-api-errors>

<kirby-weighing-form *ngIf="weighing$ | async"
                     [defaults]="weighing$ | async"
                     [autofillWeight]="machineValue"
                     (submitted)="updateWeighing($event)"
                     class="block max-w-4xl"></kirby-weighing-form>
