<form [formGroup]="form" (ngSubmit)="formSubmitted()" class="flex flex-col">
  <mat-form-field class="w-full">
    <mat-label>Tipo de pesaje</mat-label>
    <mat-select formControlName="weighing_type" required>
      <mat-option value="load">Cargue</mat-option>
      <mat-option value="unload">Descargue</mat-option>
      <mat-option value="weighing">Pesaje</mat-option>
    </mat-select>
  </mat-form-field>

  <div class="flex flex-row gap-4">
    <mat-form-field class="flex-grow">
      <mat-label>Placa de vehículo</mat-label>
      <input type="text" matInput formControlName="vehicle_plate" [matAutocomplete]="plateAutocomplete">
      <mat-autocomplete #plateAutocomplete="matAutocomplete" [displayWith]="displayFn">
        <mat-option *ngFor="let vehicle of vehicles" [value]="vehicle">
          {{ vehicle.plate }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>

    <mat-form-field class="flex-grow">
      <mat-label>Tipo de vehículo</mat-label>
      <mat-select formControlName="vehicle_type" required>
        <mat-option value="one">Uno</mat-option>
        <mat-option value="two">Dos</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="flex flex-row gap-4">
    <mat-form-field class="flex-grow">
      <mat-label>No. de documento de conductor</mat-label>
      <input type="text" matInput formControlName="driver_id" [matAutocomplete]="driverAutocomplete">
      <mat-autocomplete #driverAutocomplete="matAutocomplete">
        <mat-option *ngFor="let driver of drivers" [value]="driver.id">
          {{ driver.id }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <mat-form-field class="flex-grow">
      <mat-label>Nombre de conductor</mat-label>
      <input formControlName="driver_name" matInput required>
    </mat-form-field>
  </div>

  <div class="flex flex-row gap-4">
    <mat-form-field class="flex-grow">
      <mat-label>Peso tara</mat-label>
      <input formControlName="tare_weight" matInput type="number" min="0">
      <span matTextSuffix>Kg</span>
    </mat-form-field>
    <mat-form-field class="flex-grow">
      <mat-label>Peso bruto</mat-label>
      <input formControlName="gross_weight" matInput type="number" min="0">
      <span matTextSuffix>Kg</span>
    </mat-form-field>
    <mat-form-field class="flex-grow">
      <mat-label>Peso neto</mat-label>
      <input matInput type="number" disabled [value]="netWeight">
      <span matTextSuffix>Kg</span>
    </mat-form-field>
  </div>

  <mat-form-field>
    <mat-label>Descripción</mat-label>
    <textarea formControlName="weighing_description" matInput rows="4"></textarea>
  </mat-form-field>

  <div>
    <button mat-raised-button color="primary">Guardar</button>
  </div>
</form>
